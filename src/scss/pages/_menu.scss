// src/scss/pages/_menu.scss
@use '@/scss/theme/variables' as *;
@use '@/scss/theme/mixins' as *;

/* =========================
 * NUESTRA CARTA (mobile-first)
 * ========================= */

.menu {
  @include container;          // ancho centrado del layout
  max-width: 850px;            // tu l√≠mite espec√≠fico
  padding: 3rem 1.5rem;
}

/* Barra de categor√≠as (scroll horizontal) */
.menu-nav {
  border-bottom: 1px solid $color-grey;
  overflow-x: auto;
  white-space: nowrap;
  scroll-behavior: smooth;
  scroll-snap-type: x proximity;

  ul {
    display: flex;
    gap: 1rem;
    list-style: none;
    padding: 0;
    margin: 0;

    li { flex-shrink: 0; }

    a {
      display: inline-block;
      padding: .5rem 1rem;
      border-radius: $radius-btn;
      color: $color-black;
      text-decoration: none;
      font-weight: $font-weight-bold;
      transition: background .3s ease, color .3s ease;

      &:hover{
        text-decoration: underline;       // subrayado
        text-underline-offset: 5px;       // separa el subrayado para mejor legibilidad
        transform: scale(1.03);           // ‚Äúligeramente‚Äù m√°s grande
        cursor: pointer;                  // cursor pointer
      }

      &:focus-visible {
        outline: none;
        text-decoration: underline;
        text-underline-offset: 3px;
        /* mixin de focus ring */
        @include focus-ring;
      }

      &.active{
        color: $color-primary;
        text-decoration: underline;
        text-underline-offset: 3px;
      }

      /* Respeto a usuarios con ‚Äúreducir movimiento‚Äù: sin escala en hover */
      @media (prefers-reduced-motion: reduce) {
        .menu-nav ul a:hover {
          transform: none;
        }
      }
    }
  }
}

/* Cabecera ‚Äústicky‚Äù de la nav de categor√≠as */
.sticky-header {
  position: sticky;
  // usa la altura real del header (runtime) con fallback al token Sass
  top: var(--header-h, #{$header-h});
  z-index: 900; // por debajo del .site-header (1000)
  background: rgba($color-white, 0.80);
  backdrop-filter: blur(8px);
  border-bottom: 2px solid $color-grey;
  background-clip: padding-box;
  padding: 1rem 0.5rem;
}


/* Secciones de categor√≠a (offset din√°mico) */
.category-section {
  // üëâ header + chips, medidos en JS (fallback a token + 100px)
  scroll-margin-top: var(--sticky-total, calc(#{$header-h} + 100px));
  margin-bottom: 2rem;
  padding-bottom: 1rem;

  &.active-section {
    border-left: 4px solid $color-primary;
    background-color: $color-cream;
    transition: background-color .3s ease, border-left .3s ease;
    padding-left: 1rem;
  }
}

.category-description {
  font-style: $font-style-normal;
  color: $color-grey;
  margin-bottom: 1rem;
}

/* √çtems de la carta */
.menu-item {
  list-style: none;
  margin: 1rem;
  padding: .5rem;
  border-bottom: 1px solid $color-cream;
}

.item-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 1rem;
  margin-bottom: .2rem;

  strong {
    font-weight: 600;
    flex: 1;
  }
}

/* Precio simple */
.single-price {
  font-weight: $font-weight-bold;
  color: $color-black;
}

/* Precio m√∫ltiple */
.multi-price {
  list-style: none;
  padding: 0;
  margin: .3rem 0;
  font-size: .9rem;
  color: $color-grey;

  li {
    display: flex;
    justify-content: space-between;
    gap: 1rem;
    padding: .1rem 0;
  }
}

.portion { font-weight: 500; }
.price   { font-weight: $font-weight-bold; white-space: nowrap; }

/* Descripci√≥n del √≠tem */
.item-description {
  margin: .3rem;
  font-size: $font-size-sm;
  color: $color-grey-description;
}

/* Iconos e insignias de la carta */
.cat-icon  { inline-size: 1.25em; block-size: 1.25em; vertical-align: -.2em; }
.item-icon { inline-size: 1.05em; block-size: 1.05em; vertical-align: -.15em; margin-right: .35rem; }

.badge {
  display: inline-block;
  margin-left: .5rem;
  padding: .15rem .5rem;
  border-radius: 999px;
  font-size: .75rem;
  line-height: 1;
  vertical-align: .1rem;
  background: #ffecf0; color: #b4003b;

  &--new { background: rgba(255,0,80,.08); color: #ff0050; }
}

.menu-nav .chip__icon {
  display: inline-flex;
  inline-size: 1.1em; block-size: 1.1em;
  align-items: center; justify-content: center;

  img { max-inline-size: 100%; max-block-size: 100%; object-fit: contain; }
}

